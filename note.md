## 概述

面向对象的概念（Java：注解，c#：特征），decorator

angular大量使用，react中也会用到

目前JS支持装饰器，目前处于建议征集的第二阶段

### 解决问题

装饰器，能够带来额外的信息量，可以达到分离关注点的目的。

- 信息书写位置的问题
- 重复代码的问题

上述两个问题产生的根源：某些信息在定义时能够附加的信息量有限。

装饰器的作用：为某些属性、类、参数、方法提供元数据信息（metadata）。

元数据：描述数据的数据。

装饰器可以修饰：类、成员（属性+方法）、参数

### 装饰器的本质

在JS中，装饰器是一个函数（装饰器是要参与运行的）。

### 类装饰器

类装饰器的本质是一个函数，该函数接受一个参数，表示类本身（构造函数本身）

使用装饰器*@得到一个方法*

在TS中如何约束一个变量为类

- Function
- new (参数) => object

在TS中要使用装饰器，需要开启`experimentalDecorators`

装饰器函数的运行时间：在类定义后直接运行

类装饰器可以具有返回值：

- void：仅运行函数
- 返回一个新的类：会将新的类替换装饰目标

约束构造函数参数个数的方法

```typescript
function d(target: new (...args: any[]) => object) {
// 使用...操作之后，不在受传参个数限制
}
```

多个装饰器会按照后加入先调用的顺序进行调用。