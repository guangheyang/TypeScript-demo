# 游戏开发

使用技术：webpack + react + typescript + 面向对象

项目目的：

1. 学习TS结合webpack开发
2. 巩固TS知识
3. 锻炼逻辑思维能力
4. 体验面向对象编程思想

单一职责原则：每个类只做和它有关的一件事。

开闭原则：系统中的类，应该对扩展开发，对修改关闭

## 工程搭建

环境：浏览器 + 模块化

webpack：构建工具，根据入口文件找寻依赖，打包

基于以上两个原则，系统中使用如下模式：

数据 - 界面分离模式

传统面向对象语言，书写类的属性时，往往会进行如下操作：

1. 所有的属性全部私有化
2. 使用公开的方法提供对属性的访问

## 开发俄罗斯方块

小方块类：它能处理自己的数据，知道什么时候需要显示，但不知道如何显示

小方块显示类：用于显示一个小方块到页面上

方块的组合类：小方块的数组（不发生改变，只读数组）

方块的规则类

旋转功能

​	旋转的本质： 根据当前形状生产新的形状。

​	问题：有些方块是不旋转的，有些方块旋转时只有两种状态

rotate方法有一种通用的实现，但是，不同的情况下有不同的实现

将SquareGroup作为父类，其他的方块都是它的子类，子类可以重写父类的方法。

​	问题：旋转出界

触底处理

​	当前方块到达最底部，什么时候触底？1.自动下落；2玩家控制

​	触底之后做什么（函数如和实现）

​		-切换方块

​		-保存已落下的方块

​		-消除方块

​		-游戏是否结束

​		新的问题：

​			1.触底后，如何保存已下落的方块

​			2.如何根据已保存的方块，判断当前方块是否可移动